{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Searchbar/Searchbar.js","Components/servises/Pixabay.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["ImageGalleryItem","className","src","this","props","webformatURL","alt","onClick","showImageHandle","Component","propType","img","PropTypes","string","isRequired","func","ImageGallery","images","map","image","index","showImageHandler","largeImageURL","id","Searchbar","state","value","changeHandler","e","setState","target","submitHandler","event","preventDefault","trim","onSubmit","toast","error","type","autoComplete","autoFocus","placeholder","onChange","fetchImages","searchItem","page","a","fetch","rawResult","ok","json","result","Button","loadMoreHandler","LoaderFunc","color","height","width","modalRoot","document","querySelector","Modal","keyDownHandler","code","onClose","overlayClickHandler","currentTarget","window","addEventListener","removeEventListener","createPortal","bigURL","App","searchValue","isLoading","showModal","maxPages","newElementHight","closeModal","imageUrl","scrollToHandler","top","documentElement","scrollHeight","setTimeout","scrollTo","behavior","searchImagesHandler","total","Math","ceil","totalHits","hits","info","console","toString","min","onSubmitHandler","searchString","prevProps","prevState","Loader","autoClose","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.019f52a3.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          src={this.props.webformatURL}\r\n          alt=\"\"\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={this.props.showImageHandle}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propType = {\r\n  img: PropTypes.string.isRequired,\r\n  showImageHandle: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nclass ImageGallery extends Component {\r\n  render() {\r\n    return (\r\n      <ul className=\"ImageGallery\">\r\n        {this.props.images.map((image, index) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={image.id}\r\n              webformatURL={image.webformatURL}\r\n              showImageHandle={this.props.showImageHandler(image.largeImageURL)}\r\n              index={index}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  changeHandler = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  submitHandler = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.value.trim() === '') {\r\n      toast.error('Please enter search request!');\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.value);\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.submitHandler}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.changeHandler}\r\n            value={this.state.value}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","const BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '23243839-9e0dbc2f727b7d3ca19c2cc88';\r\n\r\nconst fetchImages = async (searchItem, page) => {\r\n  const rawResult = await fetch(\r\n    `${BASE_URL}?q=${searchItem}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n\r\n  if (!rawResult.ok) {\r\n    throw rawResult;\r\n  }\r\n\r\n  const result = await rawResult.json();\r\n\r\n  return result;\r\n};\r\n\r\nexport default fetchImages;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Button extends Component {\r\n  render() {\r\n    return (\r\n      <button\r\n        type=\"Button\"\r\n        className=\"Button\"\r\n        onClick={this.props.loadMoreHandler}\r\n      >\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nButton.propType = {\r\n  loadMoreHandler: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst LoaderFunc = () => {\r\n  return (\r\n    <div className=\"loader\">\r\n      <Loader type=\"TailSpin\" color=\"#303f9f\" height={80} width={80} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderFunc;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.keyDownHandler);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.keyDownHandler);\r\n  }\r\n\r\n  keyDownHandler = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  overlayClickHandler = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.overlayClickHandler}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.bigURL} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { toast } from 'react-toastify';\r\nimport ImageGallery from './Components/ImageGallery';\r\nimport Searchbar from './Components/Searchbar';\r\nimport fetchImages from './Components/servises';\r\nimport Button from './Components/Button';\r\nimport Loader from './Components/Loader';\r\nimport Modal from './Components/Modal';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    searchValue: '',\r\n    page: 1,\r\n    isLoading: false,\r\n    showModal: false,\r\n    error: '',\r\n  };\r\n\r\n  maxPages = 0;\r\n  bigURL = '';\r\n  newElementHight = 0;\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      (prevState.searchValue !== this.state.searchValue &&\r\n        this.state.searchValue !== '') ||\r\n      prevState.page !== this.state.page\r\n    ) {\r\n      this.searchImagesHandler();\r\n    }\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.bigURL = '';\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  showImageHandler = imageUrl => () => {\r\n    this.bigURL = imageUrl;\r\n    this.setState({ showModal: true });\r\n  };\r\n\r\n  scrollToHandler = () => {\r\n    const top = document.documentElement.scrollHeight - 150;\r\n\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 300);\r\n  };\r\n\r\n  searchImagesHandler = async () => {\r\n    const { searchValue, page } = this.state;\r\n    this.setState({ isLoading: true, error: '' });\r\n    try {\r\n      const result = await fetchImages(searchValue, page);\r\n\r\n      if (result.total !== 0) {\r\n        this.maxPages = Math.ceil(result.totalHits / 12);\r\n\r\n        this.setState(({ images }) => ({\r\n          images: [...images, ...result.hits],\r\n        }));\r\n      } else {\r\n        toast.info(`По вашему запросу ${searchValue} ничего не найдено!`);\r\n        this.setState(() => ({\r\n          images: [],\r\n        }));\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      this.setState(() => ({ error: error.toString() }));\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n    }\r\n  };\r\n\r\n  loadMoreHandler = () => {\r\n    this.scrollToHandler();\r\n    this.setState(() => ({\r\n      page: Math.min(this.maxPages, this.state.page + 1),\r\n    }));\r\n  };\r\n\r\n  onSubmitHandler = searchString => {\r\n    this.maxPages = 0;\r\n\r\n    this.setState(() => ({\r\n      images: [],\r\n      searchValue: searchString,\r\n      page: 1,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.onSubmitHandler} />\r\n        {this.state.error ? (\r\n          <p className=\"ErrorText\">{this.state.error}</p>\r\n        ) : (\r\n          <ImageGallery\r\n            images={this.state.images}\r\n            showImageHandler={this.showImageHandler}\r\n            scrollToHandler={this.scrollToHandler}\r\n          />\r\n        )}\r\n        {this.state.isLoading && <Loader />}\r\n        {this.state.page < this.maxPages && (\r\n          <Button loadMoreHandler={this.loadMoreHandler} />\r\n        )}\r\n        {this.state.showModal && (\r\n          <Modal bigURL={this.bigURL} onClose={this.closeModal}></Modal>\r\n        )}\r\n        <ToastContainer autoClose={2500} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n\r\n// ============EXAMPLE=========POKEMON======================\r\n\r\n// import React, { Component } from 'react';\r\n// import { ToastContainer } from 'react-toastify';\r\n// import 'react-toastify/dist/ReactToastify.css';\r\n// import PokemonForm from './Components/PokemonForm';\r\n// import PokemonInfo from './Components/PokemonInfo';\r\n\r\n// export default class App extends Component {\r\n//   state = {\r\n//     pokemonName: '',\r\n//   };\r\n\r\n//   handleFormSubmit = pokemonName => {\r\n//     this.setState({ pokemonName });\r\n//   };\r\n\r\n//   render() {\r\n//     return (\r\n//       <div style={{ maxWidth: 1170, margin: '0 auto', padding: 50 }}>\r\n//         <PokemonForm onSubmit={this.handleFormSubmit} />\r\n//         <PokemonInfo pokemonName={this.state.pokemonName} />\r\n//         <ToastContainer autoClose={3000} />\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}